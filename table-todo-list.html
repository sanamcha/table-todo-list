<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies App</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
</head>
<body>
    <h1>Table todo-list:</h1>
   
    <form  id="form" >
        <label for ="title">Title:</label>
        <input type="text" id="title">
        <label for="rating">Rating:</label>
        <input type ="number" required  min="0" max="10" id ="rating"><br>
        <button class="btn btn-secondary" >Submit</button>

    </form>
    <div>
        <table class="table">
            <thead>
                <tr>
                  <th>Title </th>
                  <th>Rating</th>
                  <th>Delete </th>
                </tr>
            </thead>
            <tbody id="td"></tbody>
        </table>

    
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <!-- <script src="moviesApp.js">

     </script> -->
     <script>

let newList = [];
let currId = 0;

$(function() {
  // form submit to add list 

  $("#form").on("submit", function(evt) {
    evt.preventDefault();
    let title = $("#title").val();
    let rating = $("#rating").val();
    
    currId++
    newList.push({ title, rating, currId });

    $("#td").append(newData({ title, rating, currId }));
    $("#form").trigger("reset");
    
  });

  // remove list when click on delete button

  $("#td").on("click", ".btn.btn-warning", function(evt) {
    $(evt.target).closest("tr").remove();
    });

  });

function newData(data) {
  return `
    <tr>
      <td>${data.title}</td>
      <td>${data.rating}</td>
      <td><button class="btn btn-warning" data-delete-id=${data.currId}>Delete</button>
      </td>
    <tr>`;
}

     </script>
</body>
</html>